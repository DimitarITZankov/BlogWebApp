{% extends 'base.html' %}
{% block content %}
{% for message in get_flashed_messages() %}
<div class="alert alert-warning alert-dismissible fade show" role="aler">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
<div class="container d-flex justify-content-center my-5">
    <div class="bg-light p-4 rounded shadow text-center">
    <h2>Welcome to your dashboard</h2>
  </div>
</div>
<div class="dropdown" style="position: fixed; top: 70px; left: 10px; z-index: 1000;">
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
    My Personal Menu
  </button>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="{{ url_for('my_posts')}}">My Posts</a></li>
    <li><a class="dropdown-item" href="{{ url_for('statistics',id=current_user.id)}}">View My Statistics</a></li>
    <li><a class="dropdown-item" href="">Coming Soon</a></li>
  </ul>
</div>

<div class="shadow p-3 mb-5 bg-body-tertiary rounded">
<a href="{{ url_for('edit_user',id=current_user.id) }}"class="btn btn-outline-secondary">Edit Profile</a><br/><br/><br/>
<h4> Your name is:</h4>{{current_user.name}}<br/><br/>
<h4> Your username is:</h4>{{current_user.username}}<br/><br/>
<h4> Your email is:</h4>{{current_user.email}}<br/><br/>
</div>
<br/><br/><br/>
{% if current_user.username == 'admin' %}
    <table class="table table-striped">
    {% for user in all_users %}
    <tr>
    <td><h4>User ID: {{user.id}}    <a href="{{ url_for('remove_user',id=user.id) }}">Delete</a>
    <a href="{{ url_for('edit_user',id=user.id) }}">Edit</a></h4>
    <strong>Name: </strong>{{user.name}}<br/>
    <strong>Username: </strong>{{user.username}}<br/>
    <strong>Email: </strong>{{user.email}}<br/>
    <strong>Password: </strong>{{ user.password_hash }}<br/>
    <strong>Secret Word: </strong>{{ user.secret_word }}</td><br/>
    </tr>
{% endfor %}
</table>
{%endif%}


{% endblock %}
